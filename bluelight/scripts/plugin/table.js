var openTable=!0;function displayDicomTagsList(e){if(0!=openTable){var t=e>=0?e:viewportNumber;if(dropTable(t),GetViewport(t).style.overflowY="hidden",GetViewport(t).style.overflowX="hidden",0!=getByid("DICOMTagsSelect").selected&&0!=openDisplayMarkup){var r=document.createElement("table");r.id="DicomTagsTable"+(t+1),r.className="table table-dark table-striped",r.setAttribute("border",2),r.style="border-collapse:collapse",r.style.color="#ffffff",r.style.position="absolute",r.style.backgroundColor="black",Css(r,"zIndex","20");var l=r.insertRow(0);l.setAttribute("border",2),l.style.backgroundColor="#555555",l.insertCell(0).innerHTML="Tag",l.insertCell(1).innerHTML="Name",l.insertCell(2).innerHTML="Value";for(var i=1,o=0;o<GetViewport().DicomTagsList.length;o++){var a=r.insertRow(i);a.setAttribute("border",2),a.style.backgroundColor="#151515";var s=a.insertCell(0);s.innerHTML=""+GetViewport().DicomTagsList[o][0],(s=a.insertCell(1)).innerHTML=""+GetViewport().DicomTagsList[o][1],s=a.insertCell(2),GetViewport().DicomTagsList[o][2]&&GetViewport().DicomTagsList[o][2].length>100?s.innerHTML=(""+GetViewport().DicomTagsList[o][2]).substring(0,99)+"...":s.innerHTML=""+GetViewport().DicomTagsList[o][2],i++}GetViewport(t).appendChild(r),GetViewport(t).style.overflowY="scroll",GetViewport(t).style.overflowX="scroll"}}}function displayAIM(e){if(0==openTable)return;var t=e>=0?e:viewportNumber,r=!1;if(dropTable(t),GetViewport(t).style.overflowY="hidden",GetViewport(t).style.overflowX="hidden",0==getByid("AIMSelect").selected)return;if(0==openDisplayMarkup)return;var l=document.createElement("table");l.id="AimTable"+(t+1),l.className="table table-dark table-striped",l.setAttribute("border",2),l.style="border-collapse:collapse",l.style.color="#ffffff",l.style.position="absolute",l.style.backgroundColor="black",Css(l,"zIndex","20");var i=GetViewport(t).sop;let o=SearchUid2Index(i);if(!o)return;let a=o[0],s=o[1],n=o[2];for(var p=0;p<PatientMark.length&&1!=r;p++)if(PatientMark[p].sop==Patient.Study[a].Series[s].Sop[n].SopUID){for(var d=0,b=0;b<PatientMark[p].mark.length;b++)if("Characteristic"==PatientMark[p].mark[b].type){if(0!=b){var c=l.insertRow(d);c.setAttribute("border",0),c.style.height="25px",d++}var f=l.insertRow(d);f.style.backgroundColor="#DDDDDD",f.style.color="#000000",f.setAttribute("border",2);var w=f.insertCell(0);w.innerHTML=""+PatientMark[p].mark[b].markTitle,w.colSpan=3,d++,(f=l.insertRow(d)).style.backgroundColor="#555555",(w=f.insertCell(0)).innerHTML="option",(w=f.insertCell(1)).innerHTML="value",(w=f.insertCell(2)).innerHTML="code",d++;for(var T=0;T<PatientMark[p].mark[b].markX.length;T+=1){var u=PatientMark[p].mark[b],k=l.insertRow(d);k.setAttribute("border",2),k.style.backgroundColor="#151515";var y=k.insertCell(0);y.innerHTML=""+u.markX[T],(y=k.insertCell(1)).innerHTML=""+u.markY[T],(y=k.insertCell(2)).innerHTML=""+u.markZ[T],d++}}r=!0;break}GetViewport(t).appendChild(l),GetViewport(t).style.overflowY="scroll",GetViewport(t).style.overflowX="scroll"}