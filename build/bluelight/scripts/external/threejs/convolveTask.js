!function(){function a(a){for(var t,e=a[0],n=a[0],i=a.length,r=1;r<i;r++)t=a[r],e=Math.min(e,t),n=Math.max(n,t);return{min:e,max:n}}self.registerTaskHandler({taskType:"convolveTask",handler:function(t,e){var n=t.data.imageFrame,i=self[n.typedArrayName],r=new i(t.data.pixelData),h=t.data.kernel,l=t.data.multiplier||1,f=h.length/2-h.length%2/2;function d(a,t){return t-=f,(a-=f)<0&&(a=0),a>=n.width&&(a=n.width-1),t<0&&(t=0),t>=n.height&&(t=n.height-1),r[a+t*n.width]}function o(a,t){for(var e=0,n=0;n<h.length;n++)for(var i=0;i<h[n].length;i++)e+=d(a+i,t+n)*h[n][i]*l;return e}for(var u=new i(t.data.pixelData.length),g=0;g<n.height;g++)for(var m=0;m<n.width;m++){var v=o(m,g);v=Math.max(Math.min(v,32768),-32767),u[m+g*n.width]=v}e({pixelData:u.buffer,minMax:a(u)},[u.buffer])},initialize:function(a){}})}();