function getQueryVariable_mtss(e,t){for(var a=t.split("&"),r=0;r<a.length;r++){var n=a[r].split("=");if(n[0]==e){for(var i=n[1].split(","),s=[],o=0;o<i.length;o++)s.push(i[o]),console.log(i[o]);return s}}return[""]}function getParameterByName2(e,t){e=e.replace(/\[\[]/g,"\\[").replace(/\[\]]/g,"\\]");for(var a=new RegExp("[\\?&]"+e+"=([^&#]*)").exec("?"+t),r=(""+(a=null==a?"":decodeURIComponent(a[1].replace(/\+/g," ")))).split(","),n=[],i=0;i<r.length;i++)n.push(r[i]);return n}function mtssConnect(e){if(1!=configOnload)var t=setInterval((function(){if(1==configOnload){var a="";if(e.length>0)for(var r=["StudyDate","StudyTime","AccessionNumber","ModalitiesInStudy","ReferringPhysicianName","PatientName","PatientID","StudyID","StudyInstanceUID"],n=1,i=-1,s=0;s<n;s++){for(var o=0;o<r.length;o++){var m=getParameterByName2(r[o],e).length;if(m>1&&1==n&&i!=o){if(n=m,i==o){n=1;break}var u="";(i=o)==o&&(u=getParameterByName2(r[o],e)[s]),a+=r[o]+"="+u+"&"}else m>1&&1!=n&&i==o?(u="",u=getParameterByName2(r[o],e)[s],a+=r[o]+"="+u+"&",s==n-1&&(n=1)):m>1&&1!=n&&i!=o?(u="",u=getParameterByName2(r[o],e)[0],a+=r[o]+"="+u+"&"):(u=getParameterByName2(r[o],e)[0],a+=r[o]+"="+u+"&")}if("StudyDate=&StudyTime=&AccessionNumber=&ModalitiesInStudy=&ReferringPhysicianName=&PatientName=&PatientID=&StudyID=&StudyInstanceUID=&"!=a){var g=ConfigLog.WADO.https+"://"+ConfigLog.WADO.hostname+":"+ConfigLog.WADO.PORT+"/dicom-web/instances/?"+a;console.log(g),readJson(g)}}clearInterval(t)}}),100);else{var a="StudyDate="+getQueryVariable_mtss("StudyDate",e)+"&",r="StudyTime="+getQueryVariable_mtss("StudyTime",e)+"&",n="AccessionNumber="+getQueryVariable_mtss("AccessionNumber",e)+"&",i="ModalitiesInStudy="+getQueryVariable_mtss("ModalitiesInStudy",e)+"&",s="ReferringPhysicianName="+getQueryVariable_mtss("ReferringPhysicianName",e)+"&",o="PatientName="+getQueryVariable_mtss("PatientName",e)+"&",m="PatientID="+getQueryVariable_mtss("PatientID",e)+"&",u="StudyID="+getQueryVariable_mtss("StudyID",e)+"&",g="StudyInstanceUID="+getQueryVariable_mtss("StudyInstanceUID",e)+"&";if(fromUrl=a+r+n+i+s+o+m+u+g,"StudyDate=&StudyTime=&AccessionNumber=&ModalitiesInStudy=&ReferringPhysicianName=&PatientName=&PatientID=&StudyID=&StudyInstanceUID=&"!=fromUrl){var l=ConfigLog.WADO.https+"://"+ConfigLog.WADO.hostname+":"+ConfigLog.WADO.PORT+"/dicom-web/studies/?"+fromUrl;console.log(l),readJson(l)}}}